(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{22379:function(e,t,a){"use strict";a.d(t,{Qr:function(){return LoyaltyProvider},Yq:function(){return LoyaltyCard}});var r=a(67294),s=a(71677),i=a(68583),n=a(61646),o=a(57097),l=a(85893);let c=(0,r.createContext)();function LoyaltyProvider({children:e}){let[t,a]=(0,r.useState)(0),[s,n]=(0,r.useState)("Bronze"),[d,u]=(0,r.useState)(0),[m,x]=(0,r.useState)(!1),{addNotification:h}=(0,o.z)();(0,r.useEffect)(()=>{let e=localStorage.getItem("leidy-loyalty");if(e){let t=JSON.parse(e);a(t.points||0),u(t.services||0),n(calculateLevel(t.points||0))}},[]);let calculateLevel=e=>e>=1e3?"Diamante":e>=500?"Ouro":e>=200?"Prata":"Bronze",getAvailableRewards=()=>[{id:"discount-10",title:"10% de desconto",description:"Desconto em qualquer servi\xe7o",cost:100,icon:"\uD83D\uDCB0",available:t>=100},{id:"free-service",title:"Servi\xe7o gr\xe1tis",description:"Uma limpeza completa gr\xe1tis",cost:500,icon:"\uD83E\uDDF9",available:t>=500},{id:"priority-booking",title:"Agendamento priorit\xe1rio",description:"Pule a fila de agendamentos",cost:200,icon:"⚡",available:t>=200},{id:"birthday-surprise",title:"Surpresa de anivers\xe1rio",description:"Brinde especial no seu anivers\xe1rio",cost:300,icon:"\uD83C\uDF82",available:t>=300}];return(0,l.jsxs)(c.Provider,{value:{userPoints:t,userLevel:s,completedServices:d,addPoints:(e,r)=>{let i=t+e,o=calculateLevel(i);a(i),u(e=>e+1),o!==s&&(n(o),x(!0),setTimeout(()=>x(!1),5e3),h({title:"\uD83C\uDF89 N\xedvel Atingido!",message:`Parab\xe9ns! Voc\xea alcan\xe7ou o n\xedvel ${o}!`,icon:"⭐",tag:"level-up"})),localStorage.setItem("leidy-loyalty",JSON.stringify({points:i,services:d+1,level:o,lastUpdate:new Date})),h({title:`+${e} pontos!`,message:r,icon:"\uD83D\uDC8E",tag:"points"})},getLevelProgress:()=>{let e={Bronze:{min:0,max:199,next:"Prata"},Prata:{min:200,max:499,next:"Ouro"},Ouro:{min:500,max:999,next:"Diamante"},Diamante:{min:1e3,max:1/0,next:null}}[s],a=(t-e.min)/(e.max-e.min)*100;return{current:s,next:e.next,progress:Math.min(a,100),pointsToNext:e.max===1/0?0:e.max-t}},getAvailableRewards,redeemReward:e=>{let r=getAvailableRewards(),s=r.find(t=>t.id===e);s&&t>=s.cost&&(a(e=>e-s.cost),h({title:"\uD83C\uDF81 Recompensa Resgatada!",message:`Voc\xea resgatou: ${s.title}`,icon:"\uD83C\uDF89",tag:"reward"}))}},children:[e,m&&(0,l.jsx)(i.Z,{recycle:!1,numberOfPieces:200})]})}function LoyaltyCard(){let{userPoints:e,userLevel:t,completedServices:a,getLevelProgress:i}=(0,r.useContext)(c),o=i();return(0,l.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gradient-to-r ${{Bronze:"from-amber-600 to-amber-800",Prata:"from-gray-400 to-gray-600",Ouro:"from-yellow-400 to-yellow-600",Diamante:"from-blue-400 to-blue-600"}[t]} rounded-xl p-6 text-white shadow-lg`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Programa de Fidelidade"}),(0,l.jsxs)("p",{className:"text-sm opacity-90",children:["N\xedvel ",t]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:e}),(0,l.jsx)("div",{className:"text-sm opacity-90",children:"pontos"})]})]}),o.next&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,l.jsxs)("span",{children:["Pr\xf3ximo: ",o.next]}),(0,l.jsxs)("span",{children:[o.pointsToNext," pontos"]})]}),(0,l.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,l.jsx)(s.E.div,{className:"bg-white h-2 rounded-full",initial:{width:0},animate:{width:`${o.progress}%`},transition:{duration:1,delay:.5}})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsxs)("span",{children:["Servi\xe7os realizados: ",a]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(n.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:t})]})]})]})}},57097:function(e,t,a){"use strict";a.d(t,{j:function(){return NotificationSystem},z:function(){return useNotifications}});var r=a(67294),s=a(89508),i=a(71677),n=a(86501),o=a(64412),l=a(31415),c=a(85893);function NotificationSystem(){let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)("default");(0,r.useEffect)(()=>{"Notification"in window&&s(Notification.permission);let e=localStorage.getItem("leidy-notifications");e&&t(JSON.parse(e))},[]);let requestPermission=async()=>{if("Notification"in window){let e=await Notification.requestPermission();s(e),"granted"===e&&n.ZP.success("Notifica\xe7\xf5es ativadas! \uD83C\uDF89")}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}}),(0,c.jsx)(NotificationDropdown,{notifications:e,onMarkAsRead:e=>{t(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},onRemove:e=>{t(t=>t.filter(t=>t.id!==e))},onClearAll:()=>{t([]),localStorage.removeItem("leidy-notifications")},onRequestPermission:requestPermission,permission:a}),window.addNotification=r=>{let s={id:Date.now(),timestamp:new Date,read:!1,...r};t(e=>[s,...e]),localStorage.setItem("leidy-notifications",JSON.stringify([s,...e])),(0,n.ZP)(r.title,{icon:r.icon||"\uD83D\uDD14",duration:4e3}),"granted"===a&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.showNotification(r.title,{body:r.message,icon:"/icons/icon-192.svg",badge:"/icons/badge-72.svg",tag:r.tag||"general"})})}]})}function NotificationDropdown({notifications:e,onMarkAsRead:t,onRemove:a,onClearAll:n,onRequestPermission:l,permission:d}){let[u,m]=(0,r.useState)(!1),x=e.filter(e=>!e.read).length;return(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("button",{onClick:()=>m(!u),className:"relative p-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,c.jsx)(o.Z,{className:"w-6 h-6"}),x>0&&(0,c.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:x>9?"9+":x})]}),(0,c.jsx)(s.M,{children:u&&(0,c.jsxs)(i.E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:[(0,c.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifica\xe7\xf5es"}),e.length>0&&(0,c.jsx)("button",{onClick:n,className:"text-sm text-gray-500 hover:text-gray-700",children:"Limpar tudo"})]}),"granted"!==d&&(0,c.jsx)("button",{onClick:l,className:"mt-2 w-full bg-blue-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Ativar notifica\xe7\xf5es push"})]}),(0,c.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===e.length?(0,c.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,c.jsx)(o.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"Nenhuma notifica\xe7\xe3o"]}):e.map(e=>(0,c.jsx)(NotificationItem,{notification:e,onMarkAsRead:t,onRemove:a},e.id))})]})})]})}function NotificationItem({notification:e,onMarkAsRead:t,onRemove:a}){return(0,c.jsx)("div",{onClick:()=>{e.read||t(e.id)},className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${e.read?"":"bg-blue-50"}`,children:(0,c.jsxs)("div",{className:"flex items-start justify-between",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsx)("span",{className:"text-lg",children:e.icon||"\uD83D\uDD14"}),(0,c.jsx)("h4",{className:`font-medium ${e.read?"text-gray-700":"text-gray-900"}`,children:e.title}),!e.read&&(0,c.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.message}),(0,c.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.timestamp).toLocaleString("pt-BR")})]}),(0,c.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e.id)},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,c.jsx)(l.Z,{className:"w-4 h-4"})})]})})}function useNotifications(){return{addNotification:e=>{window.addNotification&&window.addNotification(e)}}}},2878:function(e,t,a){"use strict";a.d(t,{Z:function(){return SiteSearch}});var r=a(67294),s=a(87764),i=a(25675),n=a.n(i),o=a(11163),l=a(85893);function SiteSearch({className:e=""}){let[t,a]=(0,r.useState)(""),[i,c]=(0,r.useState)(!1),d=(0,o.useRouter)(),onSubmit=e=>{if(e&&e.preventDefault(),!t||0===t.trim().length){c(!1);return}d.push(`/search?q=${encodeURIComponent(t.trim())}`),c(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("form",{onSubmit:onSubmit,className:`relative hidden md:flex items-center ${e}`,children:[(0,l.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:(0,l.jsx)(n(),{src:"https://leidycleaner.com.br/logo-leidy.png",alt:"Leidy Logo",width:20,height:20,className:"rounded-full"})}),(0,l.jsx)("input",{"aria-label":"Buscar no site",value:t,onChange:e=>a(e.target.value),placeholder:"Buscar servi\xe7os, d\xfavidas ou artigos...",className:"pl-10 pr-10 py-2 rounded-full border border-slate-200 bg-white text-sm w-72 focus:ring-2 focus:ring-primary-300 focus:outline-none"}),(0,l.jsx)("button",{type:"submit",className:"absolute right-1 top-1/2 -translate-y-1/2 px-2 py-1 rounded-full bg-primary-600 text-white hidden sm:inline-flex items-center gap-2",children:(0,l.jsx)(s.Z,{className:"w-4 h-4"})})]}),(0,l.jsxs)("div",{className:"md:hidden",children:[(0,l.jsx)("button",{onClick:()=>c(!0),"aria-label":"Abrir busca",className:"p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800",children:(0,l.jsx)(s.Z,{className:"w-5 h-5 text-slate-700 dark:text-slate-200"})}),i&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-start pt-24 px-4",children:(0,l.jsxs)("div",{className:"w-full max-w-2xl mx-auto bg-white dark:bg-slate-900 rounded-xl p-4 shadow-xl",children:[(0,l.jsxs)("form",{onSubmit:onSubmit,className:"flex items-center gap-3",children:[(0,l.jsx)("img",{src:"https://leidycleaner.com.br/logo-leidy.png",alt:"Leidy Logo",className:"w-8 h-8 rounded-full"}),(0,l.jsx)("input",{autoFocus:!0,value:t,onChange:e=>a(e.target.value),placeholder:"Buscar servi\xe7os, d\xfavidas ou artigos...",className:"flex-1 px-4 py-3 rounded-lg border border-slate-200 bg-white dark:bg-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-primary-300"}),(0,l.jsx)("button",{type:"button",onClick:()=>{a(""),c(!1)},className:"px-3 py-2 rounded-md text-sm",children:"Cancelar"})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-slate-600",children:'Dica: busque por "faxina", "pre\xe7o" ou "servi\xe7o 1".'})]})})]})]})}},38810:function(e,t,a){"use strict";a.d(t,{k_:function(){return apiCall}});let r={baseURL:"https://cleanerleidy.com.br/api",timeout:parseInt("30000"),environment:"production",debug:!1};async function apiCall(e,t={}){let s=new AbortController,i=setTimeout(()=>s.abort(),r.timeout),n=`${r.baseURL}${e}`,o={"Content-Type":"application/json",...t.headers};try{let{getAuthHeader:e}=a(56441);Object.assign(o,e())}catch(e){}r.debug;try{let e=await fetch(n,{...t,headers:o,signal:s.signal});if(clearTimeout(i),!e.ok){let t=await e.json().catch(()=>({})),a=Error(t.message||`API Error: ${e.status}`);throw a.status=e.status,a.data=t,a}let a=await e.json();return r.debug,a}catch(e){if(clearTimeout(i),"AbortError"===e.name){let e=Error(`Requisi\xe7\xe3o expirou (timeout de ${r.timeout}ms)`);throw e.code="TIMEOUT",e}if(e instanceof TypeError&&e.message.includes("fetch"))throw Error(`Erro de conex\xe3o com servidor: ${r.baseURL}`);throw e}}},21427:function(e,t,a){"use strict";a.d(t,{Ho:function(){return AuthProvider},Vo:function(){return n},aC:function(){return useAuth}});var r=a(67294),s=a(38810),i=a(85893);let n=(0,r.createContext)(null);function AuthProvider({children:e}){let[t,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0),[m,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{try{Promise.resolve().then(a.bind(a,56441)).then(({getAuthToken:e})=>{let t=e();t?(c(t),verifyToken(t)):u(!1)}).catch(()=>u(!1))}catch(e){u(!1)}},[]);let verifyToken=async e=>{try{let t=await (0,s.k_)("/api/auth/verify",{method:"GET",headers:{Authorization:`Bearer ${e}`}});o(t.user),c(e)}catch(e){"TIMEOUT"!==e.code&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),c(null))}finally{u(!1)}},h=(0,r.useCallback)(async(e,t)=>{u(!0),x(null);try{let a=await (0,s.k_)("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});o(a.user);let r=a.accessToken||a.token||null;c(r);try{r&&localStorage.setItem("auth_token",r)}catch(e){}try{r&&localStorage.setItem("token",r)}catch(e){}return localStorage.setItem("auth_user",JSON.stringify(a.user)),localStorage.setItem("user",JSON.stringify(a.user)),a.user}catch(e){throw x(e.message),e}finally{u(!1)}},[]),g=(0,r.useCallback)(async()=>{u(!0);try{l&&await (0,s.k_)("/api/auth/logout",{method:"POST"}),o(null),c(null);try{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")}catch(e){}}catch(e){x(e.message)}finally{u(!1)}},[l]),f=(0,r.useCallback)(async e=>{u(!0),x(null);try{let t=await (0,s.k_)("/api/auth/register",{method:"POST",body:JSON.stringify(e)});o(t.user);let a=t.accessToken||t.token||null;c(a);try{a&&localStorage.setItem("auth_token",a)}catch(e){}try{a&&localStorage.setItem("token",a)}catch(e){}return localStorage.setItem("auth_user",JSON.stringify(t.user)),localStorage.setItem("user",JSON.stringify(t.user)),t.user}catch(e){throw x(e.message),e}finally{u(!1)}},[]),p=!!l,y=!!t&&"adm"===t.role,v=!!t&&"funcionario"===t.role;return(0,i.jsx)(n.Provider,{value:{user:t,token:l,isLoading:d,error:m,isAuthenticated:p,isAdmin:y,isFuncionario:v,login:h,logout:g,register:f},children:e})}function useAuth(){let e=r.useContext(n);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}},89222:function(e,t,a){"use strict";a.d(t,{Ni:function(){return i},f6:function(){return ThemeProvider},oc:function(){return n}});var r=a(67294),s=a(85893);let i=(0,r.createContext)(),n={LIGHT:"light",DARK:"dark",HIGH_CONTRAST:"high-contrast",PASTEL:"pastel",CYBERPUNK:"cyberpunk",FOREST:"forest"},o={light:{name:"Claro ☀️",icon:"☀️"},dark:{name:"Escuro \uD83C\uDF19",icon:"\uD83C\uDF19"},"high-contrast":{name:"Alto Contraste ◆",icon:"◆"},pastel:{name:"Pastel \uD83C\uDFA8",icon:"\uD83C\uDFA8"},cyberpunk:{name:"Cyberpunk \uD83E\uDD16",icon:"\uD83E\uDD16"},forest:{name:"Floresta \uD83C\uDF32",icon:"\uD83C\uDF32"}};function ThemeProvider({children:e}){let[t,a]=(0,r.useState)("light"),[l,c]=(0,r.useState)([22,163,74]),[d,u]=(0,r.useState)(1),[m,x]=(0,r.useState)("light");return(0,r.useEffect)(()=>{{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e.matches;x(t?"dark":"light");let handler=e=>x(e.matches?"dark":"light");return e.addListener(handler),()=>e.removeListener(handler)}},[]),(0,r.useEffect)(()=>{let e=window.localStorage.getItem("lc_theme");if(e)try{let t=JSON.parse(e);a(t.theme||m),t.accent&&c(t.accent),t.fontScale&&u(t.fontScale)}catch(e){a(m)}else a(m)},[m]),(0,r.useEffect)(()=>{if("undefined"!=typeof document){document.documentElement.setAttribute("data-theme",t),"dark"===t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.documentElement.classList.remove("light","dark","high-contrast","pastel"),document.documentElement.classList.add(t);let e=l.join(",");document.documentElement.style.setProperty("--accent-rgb",e),document.documentElement.style.setProperty("--accent",`rgb(${e})`),document.documentElement.style.setProperty("--font-scale",d.toString()),window.localStorage.setItem("lc_theme",JSON.stringify({theme:t,accent:l,fontScale:d}))}},[t,l,d]),(0,s.jsx)(i.Provider,{value:{theme:t,setTheme:e=>{if(!e)return;if(n[e]){a(n[e]);return}let t=Object.values(n);if(t.includes(e)){a(e);return}},toggleTheme:()=>{a(e=>"dark"===e?"light":"dark")},cycleTheme:()=>{let e=Object.values(n),r=e.indexOf(t),s=(r+1)%e.length;a(e[s])},setAccent:c,accent:l,fontScale:d,setFontScale:u,systemTheme:m,isDark:t===n.DARK,isHighContrast:t===n.HIGH_CONTRAST,isPastel:t===n.PASTEL,themeConfig:o[t]},children:e})}},43988:function(e,t,a){"use strict";a.d(t,{V:function(){return ToastProvider},p:function(){return useToast}});var r=a(67294),s=a(85893);let i=r.createContext(null);function ToastProvider({children:e}){let[t,a]=(0,r.useState)([]),n=(0,r.useCallback)((e,t="info",r=3e3)=>{let s=Date.now(),i={id:s,message:e,type:t};return a(e=>[...e,i]),r>0&&setTimeout(()=>{o(s)},r),s},[]),o=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]);return(0,s.jsxs)(i.Provider,{value:{addToast:n,removeToast:o,toasts:t},children:[e,(0,s.jsx)(ToastContainer,{toasts:t,onRemove:o})]})}function useToast(){let e=r.useContext(i);if(!e)throw Error("useToast deve ser usado dentro de ToastProvider");return e}function ToastContainer({toasts:e,onRemove:t}){let a={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"},r={success:"✅",error:"❌",warning:"⚠️",info:"ℹ️"};return(0,s.jsx)("div",{className:"fixed bottom-4 right-4 space-y-2 z-50 max-w-sm",children:e.map(e=>(0,s.jsxs)("div",{className:`${a[e.type]} text-white p-4 rounded-lg shadow-lg flex items-center justify-between animate-slide-in`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:r[e.type]}),(0,s.jsx)("p",{children:e.message})]}),(0,s.jsx)("button",{onClick:()=>t(e.id),className:"ml-4 text-white hover:opacity-75",children:"✕"})]},e.id))})}},84730:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return MyApp}}),a(32352);var r=a(67294),s=a(27923),i=a(36752),n=a(34155);n.env.decoded&&s.S({dsn:n.env.decoded,environment:"production",release:n.env.decoded||void 0,integrations:[new i.gE],tracesSampleRate:.1});var o=a(89222);let l="vamos_prefs_v1",c={fontSize:"normal",accent:"cyan"};function getStoredPrefs(){if(!window.localStorage)return c;try{let e=localStorage.getItem(l);if(!e)return c;let t=JSON.parse(e);return{...c,...t}}catch(e){return c}}function savePrefs(e){if(window.localStorage)try{localStorage.setItem(l,JSON.stringify(e));try{document.cookie=`${l}=${encodeURIComponent(JSON.stringify(e))}; path=/; max-age=31536000`}catch(e){}}catch(e){}}function applyPrefs(e){if("undefined"==typeof document)return;let t=document.documentElement;"small"===e.fontSize?t.style.fontSize="14px":"large"===e.fontSize?t.style.fontSize="18px":t.style.fontSize="";let a={cyan:"rgb(6 182 212)",green:"rgb(6 120 80)",purple:"rgb(124 58 237)"},r=a[e.accent]||a.cyan;t.style.setProperty("--accent-color",r)}var d={getStoredPrefs,savePrefs,applyPrefs,setPref:function(e,t){let a=getStoredPrefs();a[e]=t,savePrefs(a),applyPrefs(a)}},u=a(21427),m=a(43988),x=a(71677),h=a(51585),g=a(64487),f=a(85893);let ErrorBoundary=class ErrorBoundary extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static decoded(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),h&&g.Tb&&g.Tb(e,{contexts:{errorBoundary:{componentStack:t.componentStack,retryCount:this.state.retryCount}}})}resetError=()=>{this.setState(e=>({hasError:!1,error:null,errorInfo:null,retryCount:e.retryCount+1}))};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){if(this.state.hasError){let e=this.state.retryCount>=3;return(0,f.jsx)(x.E.div,{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-orange-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,f.jsxs)(x.E.div,{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 border border-red-100",initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:25,stiffness:300},children:[(0,f.jsxs)("div",{className:"text-center mb-6",children:[(0,f.jsx)(x.E.div,{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:(0,f.jsx)("span",{className:"text-3xl",children:"⚠️"})}),(0,f.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Algo deu errado"}),(0,f.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e?"Parece que o problema persiste. Tente recarregar a p\xe1gina ou volte mais tarde.":"Encontramos um erro inesperado. Voc\xea pode tentar novamente ou voltar para a p\xe1gina inicial."})]}),!1,(0,f.jsxs)("div",{className:"space-y-3",children:[!e&&(0,f.jsx)(x.E.button,{onClick:this.resetError,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 active:scale-95",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83D\uDD04 Tentar Novamente"}),(0,f.jsx)(x.E.button,{onClick:this.handleReload,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 active:scale-95",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83D\uDD04 Recarregar P\xe1gina"}),(0,f.jsx)(x.E.button,{onClick:this.handleGoHome,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 active:scale-95",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83C\uDFE0 Voltar para In\xedcio"})]}),(0,f.jsxs)(x.E.div,{className:"mt-6 pt-4 border-t border-gray-200 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[(0,f.jsx)("p",{className:"text-xs text-gray-500",children:"Se o problema persistir, entre em contato com nosso suporte."}),(0,f.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["C\xf3digo do erro: ",this.state.error?.name||"UNKNOWN_ERROR"]})]})]})})}return this.props.children}};var p=a(41664),y=a.n(p),v=a(11163);function MobileBottomNav(){let e=(0,v.useRouter)(),{cycleTheme:t,themeConfig:a}=(0,r.useContext)(o.Ni);return(0,f.jsx)("nav",{className:"mobile-only fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 safe-bottom-padding z-40 shadow-lg",children:(0,f.jsxs)("div",{className:"max-w-4xl mx-auto grid grid-cols-4 gap-0",children:[(0,f.jsx)(y(),{href:"/",children:(0,f.jsxs)("div",{className:`py-3 flex flex-col items-center justify-center text-sm transition-colors ${"/"===e.pathname?"text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l9-9 9 9v7a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-4H9v4a2 2 0 0 1-2 2H3v-7z"})}),(0,f.jsx)("span",{className:"mt-1",children:"In\xedcio"})]})}),(0,f.jsx)(y(),{href:"/servicos",children:(0,f.jsxs)("div",{className:`py-3 flex flex-col items-center justify-center text-sm transition-colors ${"/servicos"===e.pathname?"text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,f.jsx)("span",{className:"mt-1",children:"Servi\xe7os"})]})}),(0,f.jsx)(y(),{href:"/agendar",children:(0,f.jsxs)("div",{className:`py-3 flex flex-col items-center justify-center text-sm transition-colors ${"/agendar"===e.pathname||"/agendar-updated"===e.pathname?"text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3M3 11h18M5 21h14a2 2 0 0 0 2-2V7H3v12a2 2 0 0 0 2 2z"})}),(0,f.jsx)("span",{className:"mt-1",children:"Agendar"})]})}),(0,f.jsx)(y(),{href:"/dashboard",children:(0,f.jsxs)("div",{className:`py-3 flex flex-col items-center justify-center text-sm transition-colors ${"/dashboard"===e.pathname?"text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,f.jsx)("span",{className:"mt-1",children:"Conta"})]})}),(0,f.jsxs)("button",{onClick:()=>t(),"aria-label":"Alternar tema",className:"py-3 flex flex-col items-center justify-center text-sm transition-colors text-gray-700 hover:bg-gray-50",children:[(0,f.jsx)("div",{className:"h-6 w-6 flex items-center justify-center rounded-full bg-green-600 text-white",children:a?.icon||"\uD83C\uDFA8"}),(0,f.jsx)("span",{className:"mt-1",children:"Tema"})]})]})})}var b=a(25675),w=a.n(b),j=a(2878);function MobileTopBar(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("header",{className:"mobile-only fixed top-0 left-0 right-0 z-40 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700",children:(0,f.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between px-4 py-3",children:[(0,f.jsx)(y(),{href:"/",children:(0,f.jsxs)("div",{className:"flex items-center gap-3",children:[(0,f.jsx)("div",{className:"w-10 h-10 relative rounded-lg overflow-hidden",children:(0,f.jsx)(w(),{src:"https://leidycleaner.com.br/logo-leidy.png",alt:"Leidy Cleaner",width:40,height:40})}),(0,f.jsxs)("div",{className:"leading-tight",children:[(0,f.jsx)("div",{className:"text-sm font-black text-gray-900 dark:text-white",children:"Leidy Cleaner"}),(0,f.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Limpeza Premium"})]})]})}),(0,f.jsxs)("div",{className:"flex items-center gap-3",children:[(0,f.jsx)(j.Z,{}),(0,f.jsx)(y(),{href:"/agendar",className:"inline-flex items-center gap-2 px-3 py-2 rounded-md bg-gradient-to-r from-blue-600 to-cyan-500 text-white text-sm font-semibold",children:"\uD83D\uDCC5 Agendar"})]})]})})})}var N=a(22379),k=a(57097),S=a(34155),UI_WhatsAppButton=()=>{let[e,t]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let toggleVisibility=()=>{let e=window.innerWidth<=640;if(e){t(!0);return}window.pageYOffset>300?t(!0):t(!1)};return window.addEventListener("scroll",toggleVisibility),()=>window.removeEventListener("scroll",toggleVisibility)},[]);let a=S?.env?.NEXT_PUBLIC_SUPPORT_PHONE||"5551990303740";return(0,f.jsxs)("a",{href:`https://wa.me/${a}?text=${encodeURIComponent("Ol\xe1! Gostaria de saber mais sobre os servi\xe7os de limpeza da Leidy Cleaner.")}`,target:"_blank",rel:"noopener noreferrer",className:`fixed bottom-6 right-6 z-50 bg-green-600 hover:bg-green-700 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 ${e?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,"aria-label":"Falar no WhatsApp",children:[(0,f.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),(0,f.jsxs)("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:["Falar no WhatsApp",(0,f.jsx)("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})},C=a(89508),UI_LiveChat=()=>{let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)([{id:1,text:"Ol\xe1! \uD83D\uDC4B Como posso ajudar voc\xea hoje?",sender:"support",time:new Date}]),[i,n]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),handleSendMessage=(e=i)=>{if(!e.trim())return;let t={id:a.length+1,text:e,sender:"user",time:new Date};s(e=>[...e,t]),n(""),l(!0),setTimeout(()=>{let e=["Perfeito! Vou te ajudar com isso. Que tipo de limpeza voc\xea precisa?","Nossos pre\xe7os come\xe7am em R$ 150 para limpeza residencial. Posso te dar um or\xe7amento personalizado?","Aceitamos cart\xe3o, PIX e dinheiro. O pagamento \xe9 feito ap\xf3s a conclus\xe3o do servi\xe7o.","Temos disponibilidade hoje! Que hor\xe1rio seria melhor para voc\xea?"],t={id:a.length+2,text:e[Math.floor(Math.random()*e.length)],sender:"support",time:new Date};s(e=>[...e,t]),l(!1)},1500)},handleQuickReply=e=>{handleSendMessage(e)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.E.button,{className:"fixed bottom-6 right-6 z-50 bg-green-600 hover:bg-green-700 text-white p-4 rounded-full shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(!e),children:e?(0,f.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,f.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,f.jsx)(C.M,{children:e&&(0,f.jsxs)(x.E.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-24 right-6 z-50 w-80 h-96 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 flex flex-col",children:[(0,f.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-500 text-white p-4 rounded-t-2xl",children:[(0,f.jsx)("h3",{className:"font-bold",children:"\uD83D\uDCAC Chat Leidy Cleaner"}),(0,f.jsx)("p",{className:"text-sm opacity-90",children:"Atendimento online"})]}),(0,f.jsxs)("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:[a.map(e=>(0,f.jsx)(x.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:(0,f.jsx)("div",{className:`max-w-xs px-3 py-2 rounded-lg text-sm ${"user"===e.sender?"bg-green-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white"}`,children:e.text})},e.id)),o&&(0,f.jsx)(x.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,f.jsx)("div",{className:"bg-gray-100 dark:bg-slate-700 px-3 py-2 rounded-lg",children:(0,f.jsxs)("div",{className:"flex space-x-1",children:[(0,f.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,f.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,f.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),1===a.length&&(0,f.jsx)("div",{className:"px-4 pb-2",children:(0,f.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["Quero agendar um servi\xe7o","Qual o valor da limpeza?","Como funciona o pagamento?","T\xeam disponibilidade hoje?"].map((e,t)=>(0,f.jsx)("button",{onClick:()=>handleQuickReply(e),className:"text-left p-2 text-sm bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:e},t))})}),(0,f.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:(0,f.jsxs)("div",{className:"flex gap-2",children:[(0,f.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleSendMessage(),placeholder:"Digite sua mensagem...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:border-green-500 dark:bg-slate-700 dark:text-white"}),(0,f.jsx)("button",{onClick:()=>handleSendMessage(),className:"bg-green-600 hover:bg-green-700 text-white p-2 rounded-lg transition-colors",children:(0,f.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})})]})},UI_PushNotifications=()=>{let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)("default");(0,r.useEffect)(()=>{"Notification"in window&&s(Notification.permission);let e=[setTimeout(()=>{addNotification({id:1,title:"\uD83C\uDF89 Promo\xe7\xe3o Especial!",body:"20% OFF na primeira limpeza residencial",icon:"\uD83C\uDFAF",type:"promo"})},5e3),setTimeout(()=>{addNotification({id:2,title:"⏰ Lembrete",body:"Sua limpeza est\xe1 agendada para amanh\xe3 \xe0s 14h",icon:"\uD83D\uDCC5",type:"reminder"})},15e3),setTimeout(()=>{addNotification({id:3,title:"⭐ Avalia\xe7\xe3o",body:"Como foi seu \xfaltimo servi\xe7o? Deixe sua opini\xe3o!",icon:"⭐",type:"review"})},25e3)];return()=>e.forEach(clearTimeout)},[]);let requestPermission=async()=>{if("Notification"in window){let e=await Notification.requestPermission();s(e),"granted"===e&&addNotification({id:Date.now(),title:"✅ Notifica\xe7\xf5es Ativadas!",body:"Voc\xea receber\xe1 atualiza\xe7\xf5es importantes",icon:"\uD83D\uDD14",type:"success"})}},addNotification=e=>{let r={...e,timestamp:new Date};t(e=>[r,...e]),"granted"===a&&"Notification"in window&&new Notification(e.title,{body:e.body,icon:"/favicon.ico"}),setTimeout(()=>{t(t=>t.filter(t=>t.id!==e.id))},5e3)},removeNotification=e=>{t(t=>t.filter(t=>t.id!==e))},decoded=e=>{switch(e){case"promo":return"bg-gradient-to-r from-purple-500 to-pink-500";case"reminder":return"bg-gradient-to-r from-blue-500 to-cyan-500";case"review":return"bg-gradient-to-r from-yellow-500 to-orange-500";case"success":return"bg-gradient-to-r from-green-500 to-emerald-500";default:return"bg-gradient-to-r from-gray-500 to-slate-500"}};return(0,f.jsxs)(f.Fragment,{children:["default"===a&&(0,f.jsx)(x.E.div,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-blue-600 text-white p-4 shadow-lg",children:(0,f.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center gap-3",children:[(0,f.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD14"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-semibold",children:"Receba notifica\xe7\xf5es importantes"}),(0,f.jsx)("p",{className:"text-sm opacity-90",children:"Atualiza\xe7\xf5es sobre seus agendamentos e promo\xe7\xf5es"})]})]}),(0,f.jsxs)("div",{className:"flex gap-2",children:[(0,f.jsx)("button",{onClick:requestPermission,className:"bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Ativar"}),(0,f.jsx)("button",{onClick:()=>s("denied"),className:"text-blue-200 hover:text-white transition-colors",children:"Agora n\xe3o"})]})]})}),(0,f.jsx)("div",{className:"fixed top-4 right-4 z-40 space-y-2",children:(0,f.jsx)(C.M,{children:e.map(e=>(0,f.jsx)(x.E.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},className:`${decoded(e.type)} text-white p-4 rounded-lg shadow-lg max-w-sm`,children:(0,f.jsxs)("div",{className:"flex items-start gap-3",children:[(0,f.jsx)("span",{className:"text-2xl",children:e.icon}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("h4",{className:"font-semibold text-sm",children:e.title}),(0,f.jsx)("p",{className:"text-sm opacity-90 mt-1",children:e.body})]}),(0,f.jsx)("button",{onClick:()=>removeNotification(e.id),className:"text-white/70 hover:text-white transition-colors",children:"✕"})]})},e.id))})}),(0,f.jsx)("div",{className:"fixed bottom-4 left-4 z-40",children:(0,f.jsx)(x.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white dark:bg-slate-800 text-gray-900 dark:text-white p-3 rounded-full shadow-lg border border-gray-200 dark:border-slate-700",title:"Prefer\xeancias de notifica\xe7\xe3o",children:(0,f.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.868 12.683A17.925 17.925 0 0112 21c7.962 0 12-1.21 12-2.683m-12 2.683a17.925 17.925 0 01-7.132-8.317M12 21V9m0 0l-4 4m4-4l4 4"})})})})]})},E=a(65133),P=a(31415);let usePWA=()=>{let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[i,n]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=window.matchMedia("(display-mode: standalone)").matches,a=!0===window.navigator.standalone;s(e||a),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),n(e),t(!0)}),window.addEventListener("appinstalled",()=>{s(!0),t(!1),n(null)});let handleOnline=()=>l(!0),handleOffline=()=>l(!1);return window.addEventListener("online",handleOnline),window.addEventListener("offline",handleOffline),()=>{window.removeEventListener("online",handleOnline),window.removeEventListener("offline",handleOffline)}},[]);let installPWA=async()=>{if(!i)return;i.prompt();let{outcome:e}=await i.userChoice;"accepted"===e&&s(!0),n(null),t(!1)},shareContent=async e=>{if(navigator.share)try{await navigator.share(e)}catch(e){}};return{isInstallable:e,isInstalled:a,isOnline:o,installPWA,shareContent}};var UI_PWABanner=()=>{let{isInstallable:e,installPWA:t,isInstalled:a}=usePWA(),[s,i]=(0,r.useState)(!1);return!e||a||s?null:(0,f.jsx)(C.M,{children:(0,f.jsx)(x.E.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-blue-600 to-cyan-500 text-white shadow-lg",children:(0,f.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-3",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,f.jsx)("decoded",{className:"w-8 h-8"}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("h3",{className:"font-bold text-sm sm:text-base",children:"Instale o App Leidy Cleaner"}),(0,f.jsx)("p",{className:"text-xs sm:text-sm opacity-90",children:"Acesso r\xe1pido, notifica\xe7\xf5es e experi\xeancia nativa no seu celular"})]})]}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsxs)("button",{onClick:()=>{t(),i(!0)},className:"bg-white text-blue-600 font-semibold px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors text-sm flex items-center gap-2",children:[(0,f.jsx)(E.Z,{className:"w-4 h-4"}),"Instalar"]}),(0,f.jsx)("button",{onClick:()=>{i(!0),localStorage.setItem("decoded","true")},className:"text-white/70 hover:text-white transition-colors p-1","aria-label":"Fechar",children:(0,f.jsx)(P.Z,{className:"w-5 h-5"})})]})]})})})})},_=a(61749),T=a(89455),A=a(75976),L=a(10383),I=a(47737);function FloatingNavTools(){return(0,f.jsxs)("div",{className:"fixed right-4 bottom-24 z-50 flex flex-col gap-3",children:[(0,f.jsx)(y(),{href:"#top",className:"w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center text-primary-600 hover:scale-105",title:"Topo",children:(0,f.jsx)(_.Z,{className:"w-5 h-5"})}),(0,f.jsx)(y(),{href:"/agendar",className:"w-12 h-12 rounded-full bg-primary-600 shadow-lg flex items-center justify-center text-white hover:scale-105",title:"Agendar",children:(0,f.jsx)(T.Z,{className:"w-5 h-5"})}),(0,f.jsx)(y(),{href:"/servicos",className:"w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center text-primary-600 hover:scale-105",title:"Servi\xe7os",children:(0,f.jsx)(A.Z,{className:"w-5 h-5"})}),(0,f.jsx)(y(),{href:"/#faq",className:"w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center text-primary-600 hover:scale-105",title:"FAQ",children:(0,f.jsx)(L.Z,{className:"w-5 h-5"})}),(0,f.jsx)(y(),{href:"/notifications",className:"w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center text-primary-600 hover:scale-105",title:"Suporte",children:(0,f.jsx)(I.Z,{className:"w-5 h-5"})})]})}var O=a(34155);function FloatingThemeSwitcher(){let{theme:e,setTheme:t,themeConfig:a}=(0,r.useContext)(o.Ni),[s,i]=(0,r.useState)(!1),n=Object.values(o.oc),l=window.__NEXT_DATA__?.props?.pageProps?.supportPhone||O?.env?.NEXT_PUBLIC_SUPPORT_PHONE||"5551990303740";return(0,f.jsxs)("div",{className:"fixed bottom-6 left-6 z-50",children:[(0,f.jsx)("div",{className:"flex items-center gap-2",children:(0,f.jsx)("button",{"aria-label":"Abrir seletor de tema",className:"w-12 h-12 rounded-full flex items-center justify-center shadow-lg bg-white dark:bg-gray-800",onClick:()=>i(!s),children:(0,f.jsx)("span",{className:"text-xl",children:a?.icon||"\uD83C\uDFA8"})})}),s&&(0,f.jsxs)("div",{className:"mt-3 p-3 rounded-xl bg-white dark:bg-gray-900 shadow-xl w-40",children:[(0,f.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Tema"}),(0,f.jsx)("div",{className:"flex flex-col gap-2",children:n.map(a=>(0,f.jsxs)("button",{onClick:()=>{t(a),i(!1)},className:`flex items-center justify-between px-3 py-2 rounded-lg w-full text-sm font-medium transition-colors ${e===a?"bg-green-600 text-white":"bg-transparent text-gray-700 dark:text-gray-200"}`,children:[(0,f.jsx)("span",{children:a}),e===a&&(0,f.jsx)("span",{children:"✓"})]},a))}),(0,f.jsx)("div",{className:"mt-3 pt-2 border-t border-gray-100 dark:border-gray-800",children:(0,f.jsx)("a",{href:`https://wa.me/${l}`,target:"_blank",rel:"noreferrer noopener",className:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-green-600 text-white font-semibold",children:"\uD83D\uDCDE Suporte"})})]})]})}var D=a(4298),z=a.n(D);let pageview=e=>{window.gtag&&window.gtag("config","CHANGE_ME_WITH_GOOGLE_ANALYTICS_ID",{page_path:e})};function MyApp({Component:e,pageProps:t}){let a=(0,v.useRouter)();return(0,r.useEffect)(()=>{let handleRouteChange=e=>{try{pageview(e)}catch(e){}};return a.events.on("routeChangeComplete",handleRouteChange),()=>{a.events.off("routeChangeComplete",handleRouteChange)}},[a.events]),(0,r.useEffect)(()=>{try{d.applyPrefs(d.getStoredPrefs())}catch(e){}try{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").catch(()=>{})}catch(e){}},[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(z(),{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=CHANGE_ME_WITH_GOOGLE_ANALYTICS_ID"}),(0,f.jsx)(z(),{id:"gtag-init",strategy:"afterInteractive",children:"window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'CHANGE_ME_WITH_GOOGLE_ANALYTICS_ID');"}),(0,f.jsx)(ErrorBoundary,{children:(0,f.jsx)(m.V,{children:(0,f.jsx)(u.Ho,{children:(0,f.jsx)(o.f6,{children:(0,f.jsxs)(N.Qr,{children:[(0,f.jsx)(k.j,{}),(0,f.jsx)(FloatingNavTools,{}),(0,f.jsx)(FloatingThemeSwitcher,{}),(0,f.jsxs)("div",{className:"min-h-[100vh] pb-20",children:[(0,f.jsx)("div",{className:"mobile-only",children:(0,f.jsx)(MobileTopBar,{})}),(0,f.jsx)("div",{className:"pt-16",children:(0,f.jsx)(e,{...t})})]}),(0,f.jsx)(MobileBottomNav,{}),(0,f.jsx)(UI_WhatsAppButton,{}),(0,f.jsx)(UI_LiveChat,{}),(0,f.jsx)(UI_PushNotifications,{}),(0,f.jsx)(UI_PWABanner,{})]})})})})})]})}},56441:function(e,t,a){"use strict";function getCookie(e){if("undefined"==typeof document)return null;let t=`; ${document.cookie}`,a=t.split(`; ${e}=`);return 2===a.length?a.pop().split(";").shift():null}function getAuthToken(){let e=getCookie("auth_token");if(e)return e;try{if(window.localStorage)return localStorage.getItem("auth_token")||localStorage.getItem("token")}catch(e){}return null}function getAuthHeader(){let e=getAuthToken();return e?{Authorization:`Bearer ${e}`}:{}}a.r(t),a.d(t,{getAuthHeader:function(){return getAuthHeader},getAuthToken:function(){return getAuthToken},getCookie:function(){return getCookie}})},23837:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return a(84730)}])},32352:function(){}},function(e){var __webpack_exec__=function(t){return e(e.s=t)};e.O(0,[774,336,216,179],function(){return __webpack_exec__(23837),__webpack_exec__(27985)}),_N_E=e.O()}]);