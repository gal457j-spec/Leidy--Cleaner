(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{45588:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Login}});var a=t(67294),s=t(41664),n=t.n(s),o=t(9008),l=t.n(o),d=t(11163),c=t(46011),i=t(90835),g=t(89222),u=t(85893);function Login(){let e=(0,d.useRouter)(),{theme:r}=(0,a.useContext)(g.Ni),[t,s]=(0,a.useState)(!1),[o,b]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[p,y]=(0,a.useState)(""),[m,f]=(0,a.useState)(!1),getInputClasses=()=>{switch(r){case"light":return"bg-gray-50 border-2 border-green-200 focus:border-green-500 text-gray-900";case"dark":return"bg-gray-800 border-2 border-gray-700 focus:border-green-500 text-white";case"high-contrast":return"bg-white border-4 border-black text-black focus:ring-4 focus:ring-yellow-300";case"pastel":return"bg-pink-50 border-2 border-purple-200 focus:border-purple-500 text-gray-900";case"cyberpunk":return"bg-gray-800 border-2 border-cyan-500 focus:border-pink-500 text-cyan-400";case"forest":return"bg-green-800/50 border-2 border-green-600 focus:border-green-400 text-green-100";default:return"bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white"}},handleLogin=async r=>{if(r.preventDefault(),y(""),!o||!h){y("Preencha email e senha");return}s(!0);try{let r=await fetch("http://localhost:3001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:h})}),t=await r.json();if(!r.ok){y(t.error||"Erro ao fazer login"),s(!1);return}localStorage.setItem("auth_token",t.tokens?.accessToken||t.data?.token),localStorage.setItem("user_id",t.user?.id),localStorage.setItem("user_role",t.user?.role),localStorage.setItem("user_name",t.user?.name),t.user?.role==="admin"?e.push("/admin/dashboard"):t.user?.role==="staff"?e.push("/staff/schedule"):e.push("/minha-conta")}catch(e){y("Erro de conex\xe3o com servidor")}finally{s(!1)}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(l(),{children:[(0,u.jsx)("title",{children:"Login - Leidy Cleaner"}),(0,u.jsx)("meta",{name:"description",content:"Fa\xe7a login na sua conta Leidy Cleaner"})]}),(0,u.jsxs)("div",{className:`min-h-screen flex flex-col ${(()=>{switch(r){case"light":return"bg-gradient-to-br from-green-50 to-emerald-50";case"dark":return"bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950";case"high-contrast":return"bg-black";case"pastel":return"bg-gradient-to-br from-purple-50 to-pink-50";case"cyberpunk":return"bg-gradient-to-br from-black via-gray-900 to-black";case"forest":return"bg-gradient-to-br from-green-900 to-green-800";default:return"bg-white dark:bg-gray-950"}})()}`,children:[(0,u.jsx)(c.Z,{}),(0,u.jsx)("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:(0,u.jsxs)("div",{className:`w-full max-w-md ${(()=>{switch(r){case"light":return"bg-white border border-green-200 shadow-xl";case"dark":return"bg-gray-900 border border-gray-700 shadow-2xl";case"high-contrast":return"bg-white border-4 border-white";case"pastel":return"bg-white border border-purple-200 shadow-xl";case"cyberpunk":return"bg-gray-900 border-2 border-cyan-500 shadow-lg shadow-cyan-500/50";case"forest":return"bg-green-900/50 border border-green-700 shadow-xl";default:return"bg-white dark:bg-gray-900"}})()} rounded-2xl px-8 py-10`,children:[(0,u.jsx)("h1",{className:`text-3xl font-black text-center mb-1 ${(()=>{switch(r){case"light":return"text-gray-900";case"dark":return"text-white";case"high-contrast":return"text-black";case"pastel":return"text-gray-800";case"cyberpunk":return"text-cyan-400";case"forest":return"text-green-50";default:return"text-gray-900 dark:text-white"}})()}`,children:"\uD83C\uDFE0 Bem-vindo"}),(0,u.jsx)("p",{className:`text-center ${(()=>{switch(r){case"light":return"text-gray-600";case"dark":case"cyberpunk":return"text-gray-400";case"high-contrast":return"text-black";case"pastel":return"text-purple-600";case"forest":return"text-green-200";default:return"text-gray-600 dark:text-gray-400"}})()} mb-8`,children:"Fa\xe7a login para agendar servi\xe7os"}),p&&(0,u.jsxs)("div",{className:`p-4 rounded-lg mb-4 text-sm font-semibold ${"high-contrast"===r?"bg-white text-black border-4 border-black":"pastel"===r?"bg-red-100 text-red-700 border border-red-200":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:["⚠️ ",p]}),(0,u.jsxs)("form",{onSubmit:handleLogin,className:"space-y-5",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:`block text-sm font-semibold mb-2 ${"high-contrast"===r?"text-black":"pastel"===r?"text-purple-700":"text-gray-700 dark:text-gray-300"}`,children:"\uD83D\uDCE7 Email"}),(0,u.jsx)("input",{type:"email",value:o,onChange:e=>b(e.target.value),placeholder:"seu@email.com",className:`w-full px-4 py-3 rounded-lg outline-none transition-all focus:ring-2 ${getInputClasses()}`,required:!0,disabled:t})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:`block text-sm font-semibold mb-2 ${"high-contrast"===r?"text-black":"pastel"===r?"text-purple-700":"text-gray-700 dark:text-gray-300"}`,children:"\uD83D\uDD12 Senha"}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("input",{type:m?"text":"password",value:h,onChange:e=>x(e.target.value),placeholder:"••••••••",className:`w-full px-4 py-3 rounded-lg outline-none transition-all focus:ring-2 pr-12 ${getInputClasses()}`,required:!0,disabled:t}),(0,u.jsx)("button",{type:"button",onClick:()=>f(!m),className:`absolute right-4 top-1/2 -translate-y-1/2 text-xl transition-opacity ${"high-contrast"===r?"text-black":"pastel"===r?"text-purple-700":"text-gray-600 dark:text-gray-400"}`,children:m?"\uD83D\uDC41️":"\uD83D\uDC41️‍\uD83D\uDDE8️"})]})]}),(0,u.jsx)("button",{type:"submit",disabled:t,className:`w-full py-3 rounded-lg font-bold text-lg transition-all duration-300 ${(()=>{switch(r){case"light":case"dark":default:return"bg-green-600 hover:bg-green-700 text-white";case"high-contrast":return"bg-white text-black hover:bg-yellow-300 border-4 border-white";case"pastel":return"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white";case"cyberpunk":return"bg-cyan-600 hover:bg-cyan-500 text-black border-2 border-cyan-400 shadow-lg shadow-cyan-500/50";case"forest":return"bg-green-600 hover:bg-green-700 text-white border border-green-500"}})()} disabled:opacity-50 disabled:cursor-not-allowed`,children:t?"⏳ Entrando...":"✅ Entrar"})]}),(0,u.jsxs)("div",{className:`mt-8 p-4 rounded-lg text-sm ${"high-contrast"===r?"bg-white border-4 border-black text-black":"pastel"===r?"bg-purple-100 border border-purple-200 text-purple-700":"bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300"}`,children:[(0,u.jsx)("p",{className:"font-semibold mb-2",children:"\uD83D\uDCDD Contas de Teste:"}),(0,u.jsxs)("p",{children:["\uD83D\uDC64 Cliente: ",(0,u.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"cliente@leidy.com"})]}),(0,u.jsxs)("p",{children:["\uD83D\uDC77 Profissional: ",(0,u.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"maria@leidy.com"})]}),(0,u.jsxs)("p",{children:["\uD83D\uDC68‍\uD83D\uDCBC Admin: ",(0,u.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"fransmalifra@gmail.com"})]}),(0,u.jsxs)("p",{className:"mt-2",children:["\uD83D\uDD11 Senha: ",(0,u.jsx)("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"admin123"})," (ou staff123, client123)"]})]}),(0,u.jsx)("div",{className:`mt-8 text-center text-sm ${"high-contrast"===r?"text-black":"pastel"===r?"text-purple-700":"text-gray-600 dark:text-gray-400"}`,children:(0,u.jsxs)("p",{children:["N\xe3o tem conta?"," ",(0,u.jsx)(n(),{href:"/register",className:`font-bold transition-colors ${"high-contrast"===r?"text-black hover:text-yellow-600":"pastel"===r?"text-purple-600 hover:text-purple-700":"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"}`,children:"Criar conta"})]})})]})}),(0,u.jsx)(i.Z,{})]})]})}},10545:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(45588)}])}},function(e){e.O(0,[216,837,774,336,888,179],function(){return e(e.s=10545)}),_N_E=e.O()}]);